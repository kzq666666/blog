<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="A new Hugo site.">

<meta name="twitter:card" content="summary">
<meta name="twitter:domain" content="/">

<meta name="twitter:image" content="/tn.png">
<meta name="twitter:title" property="og:title" itemprop="title name" content="Blogs Of KZQ">
<meta name="twitter:description" property="og:description" itemprop="description" content="A new Hugo site.">
<meta name="og:type" content="website">
<meta name="og:url" content="/">
<meta name="og:image" itemprop="image primaryImageOfPage" content="/tn.png">

<link rel="shortcut icon" href="/sam.ico" id="favicon">
<link rel="stylesheet" href="/css/style.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128390257-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-128390257-1');
</script>

    

    
    
    
    <title>
        
        CSS3 Canvas
        
    </title>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title">CSS3 Canvas</div>

        
<div class="section" id="content">
    2018年10月31日 &#183; 1087 words
    
    <div class="tag-container">
        
        <span class="tag">
            <a href="/tags/css">
                CSS
            </a>
        </span>
        
        <span class="tag">
            <a href="/tags/canvas">
                Canvas
            </a>
        </span>
        
    </div>
    
    <hr/>
    

<p>Canvas 是 HTML5 新增加的一个元素,它又称为&rdquo;画布&rdquo;,主要有以下四种功能</p>

<ul>
<li>绘制图形</li>
<li>绘制图表</li>
<li>动画效果</li>
<li>游戏开发</li>
</ul>

<p>在 chrome 浏览器中,canvas 的默认宽高是 300px 和 150px,写宽高的样式的时候最好写在 HTML 页面的属性值里面</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;150&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;border: 1px black dashed&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;</code></pre></div>
<p>一般的操作
<br>1.获取 canvas 对象
<br>2.获取上下文环境对象 context</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#34;2d&#34;</span>);
</code></pre></div>
<p>3.开始绘制图形</p>

<h2 id="1-直线">1.直线</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>)   <span style="color:#a6e22e">画笔移到</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>)<span style="color:#a6e22e">处</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">LineTo</span>(<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>)   <span style="color:#a6e22e">画笔从起点</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>)<span style="color:#a6e22e">开始画线</span>,<span style="color:#a6e22e">一直到终点</span>(<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>)<span style="color:#a6e22e">处</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>     <span style="color:#a6e22e">设置线的颜色</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">stroke</span>()        <span style="color:#a6e22e">用笔划线</span>
(<span style="color:#a6e22e">tip</span><span style="color:#f92672">:</span><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">strokeStyle要在cxt</span>.<span style="color:#a6e22e">stroke</span>()<span style="color:#a6e22e">之前执行</span>,<span style="color:#a6e22e">否则是看不到效果的</span>,<span style="color:#a6e22e">和画画是一样的</span>,<span style="color:#a6e22e">在动笔之前把要画的东西</span>,<span style="color:#a6e22e">颜色</span>,<span style="color:#a6e22e">样式确定好</span>
</code></pre></div>
<h2 id="2-描边矩形-填充矩形-清空矩形">2.描边矩形 填充矩形 清空矩形</h2>

<ul>
<li>描边矩形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">strokeRect</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>,<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>)     (<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>)<span style="color:#a6e22e">为矩形左上角坐标</span>,(<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>)<span style="color:#a6e22e">为矩形右下角坐标</span>
<span style="color:#a6e22e">等价于</span><span style="color:#f92672">==&gt;</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>,<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>);
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">stroke</span>();
</code></pre></div>
<ul>
<li>填充矩形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;属性值&#34;</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fillRect</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>,<span style="color:#a6e22e">width</span>,<span style="color:#a6e22e">height</span>) (<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>)<span style="color:#a6e22e">是矩形左上角坐标</span>,<span style="color:#a6e22e">width是矩形的宽度</span>,<span style="color:#a6e22e">height是矩形的高度</span>
<span style="color:#a6e22e">等价于</span><span style="color:#f92672">==&gt;</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">x1</span>,<span style="color:#a6e22e">y1</span>,<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>);
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fill</span>()
</code></pre></div>
<ul>
<li>清空矩形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">clearRect</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>);
</code></pre></div>
<ul>
<li>绘制一个正 n 多边形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">  &lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;border: 1px black dashed&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
    &lt;<span style="color:#f92672">script</span>&gt;
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#39;canvas&#39;</span>)[<span style="color:#ae81ff">0</span>]
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cxt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);      <span style="color:#75715e">//获取上下文环境对象
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cvs_width</span> <span style="color:#f92672">=</span> parseFloat(<span style="color:#a6e22e">getComputedStyle</span>(<span style="color:#a6e22e">canvas</span>, <span style="color:#66d9ef">null</span>).<span style="color:#a6e22e">width</span>);   <span style="color:#75715e">//获取画布的宽
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cvs_height</span> <span style="color:#f92672">=</span> parseFloat(<span style="color:#a6e22e">getComputedStyle</span>(<span style="color:#a6e22e">canvas</span>, <span style="color:#66d9ef">null</span>).<span style="color:#a6e22e">height</span>); <span style="color:#75715e">//获取画布的高
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">distanceR</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">distanceD</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> 
        <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createPolygon</span>(<span style="color:#a6e22e">n</span>) {
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">r</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">min</span>(<span style="color:#a6e22e">cvs_width</span>, <span style="color:#a6e22e">cvs_height</span>)<span style="color:#e6db74">/2;  /</span><span style="color:#960050;background-color:#1e0010">/正多边形外接圆半径</span>
            <span style="color:#66d9ef">if</span>(Math.<span style="color:#a6e22e">min</span>(<span style="color:#a6e22e">cvs_width</span>,<span style="color:#a6e22e">cvs_height</span>)<span style="color:#f92672">==</span><span style="color:#a6e22e">cvs_height</span>){
                <span style="color:#a6e22e">distanceR</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">cvs_width</span><span style="color:#960050;background-color:#1e0010">/2) - r</span>
            }<span style="color:#66d9ef">else</span>{
                <span style="color:#a6e22e">distanceD</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">cvs_height</span><span style="color:#960050;background-color:#1e0010">/2) - r</span>
            }
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">degree</span> <span style="color:#f92672">=</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">PI</span>) <span style="color:#e6db74">/ n;     /</span><span style="color:#960050;background-color:#1e0010">/每个角的度数</span>
            <span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">0</span><span style="color:#f92672">+</span><span style="color:#a6e22e">distanceR</span>, <span style="color:#a6e22e">r</span><span style="color:#f92672">+</span><span style="color:#a6e22e">distanceD</span>);   <span style="color:#75715e">//初始化起点
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
                <span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">r</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">cos</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">degree</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">distanceR</span>, <span style="color:#a6e22e">r</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">degree</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">distanceD</span>);
            }
            <span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">closePath</span>();
            <span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#f40&#34;</span>;
            <span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fill</span>()
        }
    &lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>
<h2 id="2-曲线">2.曲线</h2>

<ul>
<li>圆形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">beginPath</span>() <span style="color:#a6e22e">开始一个路径</span>
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#a6e22e">x</span>,<span style="color:#a6e22e">y</span>,<span style="color:#a6e22e">半径</span>,<span style="color:#a6e22e">开始角度</span>,<span style="color:#a6e22e">结束角度</span>,<span style="color:#a6e22e">anticlockwise</span>)
<span style="color:#75715e">// (x,y)时圆心的坐标,开始角度和结束角度都是弧度制,anticlockwise(逆时针地)为true时,逆时针绘制图形,为false时,顺时针绘制图形
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">closePath</span>() <span style="color:#a6e22e">结束一个路径</span>
<span style="color:#75715e">// 描边
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;颜色值&#34;</span> 
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">stroke</span>()  <span style="color:#a6e22e">画线</span>
<span style="color:#75715e">// 或者填充
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fillStyle</span>()
<span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">fill</span>()
</code></pre></div>
<ul>
<li>弧形</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ae81ff">1.</span><span style="color:#a6e22e">arc</span>() 
<span style="color:#75715e">// 和画圆基本语法一样,就是把cxt.closePath()去掉就好了
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2.</span><span style="color:#a6e22e">arcTo</span>(<span style="color:#a6e22e">cx</span>,<span style="color:#a6e22e">cy</span>,<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>,<span style="color:#a6e22e">radius</span>)
<span style="color:#75715e">// 控制点坐标(cx,cy) 终点坐标(x2,y2) radius是圆弧半径 起点坐标(x1,y1)由一般由moveTo()或lineTo()提供
</span><span style="color:#75715e"></span></code></pre></div>
<ul>
<li>二次贝塞尔曲线</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">quadraticCurveTo</span>(<span style="color:#a6e22e">cx</span>,<span style="color:#a6e22e">cy</span>,<span style="color:#a6e22e">x2</span>,<span style="color:#a6e22e">y2</span>)
<span style="color:#75715e">// (cx,cy)控制点坐标,(x2,y2)终点坐标,起点坐标由moveTo()或lineTo()提供
</span><span style="color:#75715e"></span></code></pre></div>
<ul>
<li>三次贝塞尔曲线</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">cxt</span>.<span style="color:#a6e22e">bezierCurveTo</span>(<span style="color:#a6e22e">cx1</span>,<span style="color:#a6e22e">cy1</span>,<span style="color:#a6e22e">cx2</span>,<span style="color:#a6e22e">cy2</span>,<span style="color:#a6e22e">x</span>,<span style="color:#a6e22e">y</span>)
<span style="color:#75715e">//(cx1,cy1)控制点1的坐标,(cx2,cy2)控制点2的坐标,(x,y)表示结束点坐标,起点坐标由moveTo()或lineTo()提供
</span><span style="color:#75715e"></span></code></pre></div>
<h2 id="3-线条操作">3.线条操作</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">lineWidth</span>   
<span style="color:#75715e">//线条宽度(px)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">lineCap</span>     
<span style="color:#75715e">//线帽样式 Butt默认值无键帽,Round圆形键帽,Square正方形键帽
</span><span style="color:#75715e"></span><span style="color:#a6e22e">lineJoin</span>    
<span style="color:#75715e">//线条交接处样式 miter默认值尖角,round圆角,bevel斜角
</span><span style="color:#75715e"></span></code></pre></div>
</div>


        
<div class="section bottom-menu">
    
<hr />
<p>



    
        
            <a href="/blogs">
                Blogs
            </a>
        
    
    
        
            &#183; 
            <a href="/life">
                life
            </a>
        
            &#183; 
            <a href="/about">
                who is kzq?
            </a>
        
    
    &#183; 
    <a href="/">
        main
    </a>

</p>
</div>


        <div class="section footer">Call me Sam, a theme for Hugo.</div>
    </div>
</body>

</html>